"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),Header=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={isLoaded:!1,menuItems:null,dataRoute:SilverlessSettings.URL.api+"main-menu"},t}return _inherits(a,React.Component),_createClass(a,[{key:"componentDidMount",value:function(){var t=this;fetch(this.state.dataRoute).then(function(e){return e.json()}).then(function(e){t.setState({isLoaded:!0,menuItems:e})},function(e){t.setState({isLoaded:!1,error:e})})}},{key:"createMenu",value:function(){if(this.state&&this.state.menuItems){for(var e=[],t=this.state.menuItems,a=0;a<t.length;a++)e.push(React.createElement("li",null,React.createElement("a",{href:t[a].url},t[a].title)));return React.createElement("ul",null,e)}}},{key:"render",value:function(){return React.createElement("header",this.props&&this.props.dark?{className:"dark"}:{},React.createElement("div",{class:"container cols-4-8"},React.createElement("div",{class:"col"},React.createElement("a",{href:SilverlessSettings.URL.root,class:"logo-wrapper"},React.createElement(SVG,{class:"logo__silverless centered",src:"/inc/img/logo__silverless.svg"}))),React.createElement("div",{class:"col"},this.createMenu())))}}]),a}(),Footer=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isLoaded:!1,footer:null,dataRoute:SilverlessSettings.URL.api+"footer-info"},e}return _inherits(t,React.Component),_createClass(t,[{key:"componentDidMount",value:function(){var t=this;fetch(this.state.dataRoute).then(function(e){return e.json()}).then(function(e){t.setState({isLoaded:!0,footer:e})},function(e){t.setState({isLoaded:!1,error:e})})}},{key:"footerInfo",value:function(){if(this.state&&this.state.footer){for(var e=this.state.footer,t=[],a=e.social_links,n=0;n<a.length;n++)t.push(React.createElement("a",{href:a[n].link},React.createElement("i",{class:"fab fa-"+a[n].social_network})));return React.createElement("div",{class:"info"},React.createElement("div",{class:"phone"},e.phone),React.createElement("div",{class:"email brand"},e.email),React.createElement("div",{class:"socials"},t),React.createElement("a",{class:"button mb5",target:"_blank",href:e.button_target},e.button_label),React.createElement("div",{class:"colophon"},React.createElement("span",null,e.footer_info),React.createElement("a",{href:"/privacy-policy"},"Privacy policy"),React.createElement("a",{href:"/terms-conditions"},"Terms & Conditions")))}}},{key:"footerHeading",value:function(){if(this.state&&this.state.footer&&this.state.footer.footer_heading&&this.props&&this.props.heading)return React.createElement("div",{class:"container cols-4-8"},React.createElement("div",{class:"col"}),React.createElement("div",{class:"col pt2 pb4"},React.createElement("div",{class:"heading heading__lg heading__lower"},this.state.footer.footer_heading)))}},{key:"render",value:function(){return React.createElement("footer",{class:"pt5 pb2"+(this.props&&this.props.dark?" dark":"")},this.footerHeading(),React.createElement("div",{class:"container cols-4-8"},React.createElement("div",{class:"col"},React.createElement("a",{href:SilverlessSettings.URL.root,class:"logo-wrapper"},React.createElement(SVG,{class:"logo__silverless",src:"/inc/img/logo__silverless.svg"}))),React.createElement("div",{class:"col"},this.footerInfo())))}}]),t}(),SVG=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={isLoaded:!1,svg:null,dataRoute:SilverlessSettings.URL.local+t.props.src},t}return _inherits(a,React.Component),_createClass(a,[{key:"componentDidMount",value:function(){var t=this;fetch(this.state.dataRoute).then(function(e){return e.text()}).then(function(e){t.setState({isLoaded:!0,svg:{__html:e}})},function(e){t.setState({isLoaded:!1,error:e})})}},{key:"render",value:function(){return React.createElement("div",{class:this.props.class,dangerouslySetInnerHTML:this.state.svg})}}]),a}(),Home=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isLoaded:!1,page:null,dataRoute:SilverlessSettings.URL.api+"home"},e}return _inherits(t,React.Component),_createClass(t,[{key:"componentDidMount",value:function(){var t=this;fetch(this.state.dataRoute).then(function(e){return e.json()}).then(function(e){t.setState({isLoaded:!0,page:e})},function(e){t.setState({isLoaded:!1,error:e})})}},{key:"render",value:function(){var e=void 0,t=void 0,a=void 0;return this.state&&this.state.page&&this.state.page.acf&&(e=React.createElement(Hero,{hero:this.state.page.acf.hero}),t=React.createElement(SectionLink,{section:this.state.page.acf.section_link}),a=React.createElement(FeaturedWork,{works:this.state.page.works})),React.createElement("div",{id:"container"},React.createElement(Header,null),React.createElement("main",{class:"home"},e,t,a),React.createElement(Footer,{dark:!0,heading:!1}))}}]),t}(),SectionLink=function(e){var t=[];return e.section.buttons[0]&&t.push(React.createElement("a",{class:"button button__transparent",href:e.section.buttons[0].target},e.section.buttons[0].label)),e.section.buttons[1]&&t.push(React.createElement("a",{class:"button ml2",href:e.section.buttons[1].target},e.section.buttons[1].label)),React.createElement("div",{class:"section-link"},React.createElement("div",{class:"container cols-4-8"},React.createElement("div",{class:"col"}),React.createElement("div",{class:"col"},React.createElement("div",{class:"top-heading light-text pt2"},React.createElement("span",null,e.section.top_heading," "),React.createElement("a",{href:e.section.target_page},e.section.target_label)),React.createElement("div",{class:"info container cols-6 pb5 pt5"},React.createElement("div",{class:"col"},React.createElement("h2",{class:"heading heading__lg brand mb1 pb1",dangerouslySetInnerHTML:{__html:e.section.heading}}),React.createElement("div",{class:"copy light-text mb3",dangerouslySetInnerHTML:{__html:e.section.copy}}),React.createElement("div",{class:"wrapper-buttons"},t))))))},FeaturedWork=function(e){for(var t=[],a=0;a<e.works.length;a++){var n=e.works[a];t.push(React.createElement("div",{class:"work-wrapper container cols-4-8 mb7"},React.createElement("div",{class:"col pt3 pb2"},React.createElement("h3",{class:"heading heading__md mb0"},n.acf.hero.heading),React.createElement("div",{class:"sub-heading brand light-text pt1"},n.acf.hero.sub_heading),React.createElement("div",{class:"type light-text"},n.taxonomies.type.map(function(e){return React.createElement("div",{class:"brand-plus pb1",key:e.term_id},e.name)})),React.createElement("a",{class:"button button__transparent mt3",href:n.permalink},"Find out more")),React.createElement("div",{class:"col img",style:{backgroundImage:"url("+n.acf.hero.background_image+")"}})))}return React.createElement("div",{class:"featured-work background-primary"},React.createElement("div",{class:"container cols-12"},React.createElement("div",{class:"col"},React.createElement("h2",{class:"heading-alt pt2 pb2"},"Featured Work"),t,React.createElement("div",{class:"container cols-4-8"},React.createElement("div",{class:"col"}),React.createElement("div",{class:"col"},React.createElement("a",{class:"button mb5",href:"/work/"},"See more work"))))))},Work=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isLoaded:!1,page:null,dataRoute:SilverlessSettings.URL.api+"work"},e}return _inherits(t,React.Component),_createClass(t,[{key:"componentDidMount",value:function(){var t=this;fetch(this.state.dataRoute).then(function(e){return e.json()}).then(function(e){t.setState({isLoaded:!0,page:e})},function(e){t.setState({isLoaded:!1,error:e})})}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("works");if(e)mixitup(e)}},{key:"loadWorks",value:function(){if(this.state&&this.state.page){var e=this.state.page;return React.createElement("div",{class:"container cols-4-8 pt10"},React.createElement("div",{class:"col"}),React.createElement("div",{class:"col brand brand__top pt1 pb3"},React.createElement("h1",{class:"heading heading__xl mt0"},e.acf.hero.heading)),React.createElement("div",{class:"col sidebar"},React.createElement("div",{class:"filter mb5"},React.createElement("div",{class:"title brand-plus"},"Filter by sector"),React.createElement("div",{class:"taxonomy sector"},e.taxonomies.sector.map(function(e){return React.createElement("div",{"data-filter":"."+e.slug,class:"item",key:e.term_id,dangerouslySetInnerHTML:{__html:e.name}})}))),React.createElement("div",{class:"filter mb5"},React.createElement("div",{class:"title brand-plus"},"Filter by type"),React.createElement("div",{class:"taxonomy type"},e.taxonomies.type.map(function(e){return React.createElement("div",{"data-filter":"."+e.slug,class:"item",key:e.term_id,dangerouslySetInnerHTML:{__html:e.name}})})))),React.createElement("div",{class:"col container cols-6 works pb7",id:"works"},e.works.map(function(e){return React.createElement("a",{href:e.permalink,key:e.ID,class:"mix col pb2"+e.taxonomies.type.map(function(e){return" "+e.slug}).join("")+e.taxonomies.sector.map(function(e){return" "+e.slug}).join("")},React.createElement("div",{class:"img",style:{backgroundImage:"url("+e.acf.hero.background_image+")"}}),React.createElement("div",{class:"brand brand__top"},React.createElement("h2",{class:"heading heading__light heading__sm mb0 mt0"},e.acf.hero.heading),React.createElement("div",{class:"text light-text"},e.acf.hero.sub_heading)))})))}}},{key:"render",value:function(){return React.createElement("div",{id:"container"},React.createElement(Header,{dark:!0}),React.createElement("main",{class:"work"},this.loadWorks()),React.createElement(Footer,{heading:!0}))}}]),t}(),SingleWork=function(e){function a(){_classCallCheck(this,a);var e=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this)),t=window.location.pathname.replace(/\//,"");return e.state={isLoaded:!1,page:null,dataRoute:SilverlessSettings.URL.api+t},e}return _inherits(a,React.Component),_createClass(a,[{key:"componentDidMount",value:function(){var t=this;fetch(this.state.dataRoute).then(function(e){return e.json()}).then(function(e){t.setState({isLoaded:!0,page:e})},function(e){t.setState({isLoaded:!1,error:e})})}},{key:"loadWork",value:function(){if(this.state&&this.state.page){console.log(this.state.page);var e=this.state.page;return React.createElement("div",null,React.createElement("div",{class:"container cols-4-8 pt10"},React.createElement("div",{class:"col"}),React.createElement("div",{class:"col "},React.createElement("div",{class:"sub-heading pb1"},e.acf.hero.sub_heading),React.createElement("div",{class:"brand brand__top pt1 pb3"},React.createElement("h1",{class:"heading heading__xl mt0"},e.acf.hero.heading)))),React.createElement("div",{class:"background img",style:{backgroundImage:"url("+e.acf.hero.background_image+")"}}),React.createElement("div",{class:"container cols-4-8 pt5 pb5"},React.createElement("div",{class:"col"},React.createElement("div",{class:"type light-text"},e.taxonomies.type.map(function(e){return React.createElement("div",{class:"brand-plus pb1",key:e.term_id},e.name)}))),React.createElement("div",{class:"col"},React.createElement("div",{class:"info-heading"},React.createElement("p",null,e.acf.info.copy_heading)),React.createElement("div",{class:"info-heading light-text"},React.createElement("p",null,e.acf.info.copy)))))}}},{key:"render",value:function(){return React.createElement("div",{id:"container"},React.createElement(Header,{dark:!0}),React.createElement("main",{class:"single-work"},this.loadWork()),React.createElement(Footer,{heading:!0}))}}]),a}(),NotFound=function(){return React.createElement("div",{class:"not-found"},React.createElement("h1",null,"NotFound"))},Hero=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var e,t=this.props.hero;return"image"==t.type&&(e={backgroundImage:"url("+t.background_image+")"}),"colour"==t.type&&(e={backgroundColor:t.colour}),React.createElement("div",{className:"hero "+t.height,style:e},React.createElement("div",{class:"container"},React.createElement("div",{class:"col hero__content"})))}}]),t}(),_ReactRouterDOM=ReactRouterDOM,BrowserRouter=_ReactRouterDOM.BrowserRouter,Route=_ReactRouterDOM.Route,Switch=_ReactRouterDOM.Switch,Link=_ReactRouterDOM.Link,App=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){return React.createElement(Switch,null,React.createElement(Route,{exact:!0,path:SilverlessSettings.path,component:Home}),React.createElement(Route,{exact:!0,path:SilverlessSettings.path+"work/",component:Work}),React.createElement(Route,{exact:!0,path:SilverlessSettings.path+"work/:slug",component:SingleWork}),React.createElement(Route,{path:"*",component:NotFound}))}}]),t}();ReactDOM.render(React.createElement(BrowserRouter,null,React.createElement(Route,{path:"/",component:App})),document.getElementById("root"));